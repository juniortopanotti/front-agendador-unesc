<div *ngIf="action === 'PERSIST'">
  <h1 mat-dialog-title>Adicionando Usuário</h1>
  <div fxLayout="column" fxFlexFill>
    <form #myForm="ngForm" [formGroup]="usersForm" autocomplete="off" novalidate>
      <mat-form-field style="width: 40%">
        <input matInput formControlName="name" placeholder="Nome" id="name" required>
        <mat-error *ngIf="error && error.path === 'name'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
      <mat-form-field style="width: 50%">
        <input matInput formControlName="document" placeholder="Inscrição" id="document" required>
        <mat-error *ngIf="error && error.path === 'document'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
      <mat-form-field style="width: 40%">
        <input matInput formControlName="addres" placeholder="Endereço" id="addres" required>
        <mat-error *ngIf="error && error.path === 'addres'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
      <mat-form-field style="width: 30%">
        <input matInput formControlName="city" placeholder="Cidade" id="city" required>
        <mat-error *ngIf="error && error.path === 'city'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
      <mat-form-field style="width: 20%">
        <mat-select formControlName="uf" [(value)]="uf" id="uf" required>
          <mat-option value="">Selecione</mat-option>
          <mat-option value="AC">Acre</mat-option>
          <mat-option value="AL">Alagoas</mat-option>
          <mat-option value="AP">Amapá</mat-option>
          <mat-option value="AM">Amazonas</mat-option>
          <mat-option value="BA">Bahia</mat-option>
          <mat-option value="CE">Ceará</mat-option>
          <mat-option value="DF">Distrito Federal</mat-option>
          <mat-option value="ES">Espirito Santo</mat-option>
          <mat-option value="GO">Goiás</mat-option>
          <mat-option value="MA">Maranhão</mat-option>
          <mat-option value="MS">Mato Grosso do Sul</mat-option>
          <mat-option value="MT">Mato Grosso</mat-option>
          <mat-option value="MG">Minas Gerais</mat-option>
          <mat-option value="PA">Pará</mat-option>
          <mat-option value="PB">Paraíba</mat-option>
          <mat-option value="PR">Paraná</mat-option>
          <mat-option value="PE">Pernambuco</mat-option>
          <mat-option value="PI">Piauí</mat-option>
          <mat-option value="RJ">Rio de Janeiro</mat-option>
          <mat-option value="RN">Rio Grande do Norte</mat-option>
          <mat-option value="RS">Rio Grande do Sul</mat-option>
          <mat-option value="RO">Rondônia</mat-option>
          <mat-option value="RR">Roraima</mat-option>
          <mat-option value="SC">Santa Catarina</mat-option>
          <mat-option value="SP">São Paulo</mat-option>
          <mat-option value="SE">Sergipe</mat-option>
          <mat-option value="TO">Tocantins</mat-option>
        </mat-select>
        <mat-error *ngIf="error && error.path === 'uf'">
          {{error.message}}
        </mat-error>
      </mat-form-field>

      <mat-form-field style="width: 40%">
        <input matInput formControlName="email" placeholder="Email" id="email"  required>
        <mat-error *ngIf="error && error.path === 'email'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
      <mat-form-field style="width: 30%" *ngIf="!users.id">
        <input matInput type="password" formControlName="password" placeholder="Senha" id="password" required>
        <mat-error *ngIf="error && error.path === 'password'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
      <mat-form-field style="width: 20%">
        <mat-select formControlName="role" [(value)]="role" id="role" required>
          <mat-option value="">Selecione</mat-option>
          <mat-option value="C">Cliente</mat-option>
          <mat-option value="A">Administrador</mat-option>
        </mat-select>
        <mat-error *ngIf="error && error.path === 'uf'">
          {{error.message}}
        </mat-error>
      </mat-form-field>
    </form>
  </div>
  <div>
    <div fxLayout="row" fxLayoutAlign="end">
      <button mat-raised-button (click)="onNoClick()">Cancelar</button>
      <button mat-raised-button color="primary" (click)="addUser()" [disabled]="usersForm.invalid" cdkFocusInitial>Salvar</button>
    </div>
  </div>
</div>
